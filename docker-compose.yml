services:
  runner:
    build:
      context: ./runner
      dockerfile: Dockerfile
    container_name: jazzcode-runner
    ports:
      - "8787:8787"
    environment:
      RUNNER_PORT: 8787
      RUNNER_SHARED_SECRET: ${RUNNER_SHARED_SECRET:-change-me-local-secret}
      RUNNER_HOME: /home/runner
    volumes:
      - runner-cache:/tmp
    restart: unless-stopped

volumes:
  runner-cache:
